<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich">

<h:head>
	<title>Hip Converter</title>
</h:head>
<h:body>
	<ui:composition xmlns="http://www.w3.org/1999/xhtml"
		xmlns:ui="http://java.sun.com/jsf/facelets"
		xmlns:f="http://java.sun.com/jsf/core"
		xmlns:h="http://java.sun.com/jsf/html"
		template="/xhtml/tools/seeContentLayout.xhtml">

		<ui:define name="toolcontent">
			<div id="toolHeading">
				<p id="toolContentHeader">HIP Converter</p>
			</div>
			<div id="toolDetails">

				<div id="toolInfo" class="col3">
				<h:form>
					<div id="popUpInfo" class="col3">
						<h:outputLink>What is Hip Converter?
						<rich:componentControl target="popup" operation="show"
								event="click" />
						</h:outputLink>
					</div>
					<div id="downloadSampleFile" class="col3">
					<h:commandLink action="#{fileDownloadBean.download}" value="Download Sample File"/>
					</div>
				</h:form>
				</div>
				<div id="fileUploadInput" class="col3">
					<h:form enctype="multipart/form-data" id="hipConverterForm">
						<h:inputFile id="hipConverterFileId"
							value="#{fileUploadBean.inputFile}" required="true"
							requiredMessage="File not selected !!">
							<f:validator validatorId="FileUploadValidator" />
						</h:inputFile>
						<h:message for="hipConverterFileId" styleClass="error;" /><br></br>
						<h:commandButton value="Upload"
							action="#{fileUploadBean.upload()}" />
					</h:form>
				</div>
				<div id="inputDataForm" class="col3">
					<br></br>
					<h:form>
					<h:panelGrid id="hipPanelForm" columns="2" border="1"
						rendered="#{fileUploadBean.showForm}">
						<h:dataTable id="hipOutputForm" var="hipOutput"
							value="#{fileUploadBean.hipconverterFinalOutput.hipconverterOutputList}"
							redered="#{fileUploadBean.showForm}" border="1">

							<h:column>
								<f:facet name="header">Energy</f:facet>
								<h:inputText value="#{hipOutput.energy}" />
							</h:column>

							<h:column>
								<f:facet name="header">Proton Cross Section</f:facet>
								<h:inputText value="#{hipOutput.protonCrossSection}" />
							</h:column>
						</h:dataTable>
					</h:panelGrid>
					</h:form>
				</div>

				<div id="tooOutputData" class="col3">

					<h:panelGrid id="hipPanel" columns="2"
						rendered="#{fileUploadBean.display}">
						<h:dataTable id="hipOutput" var="hipOutput"
							value="#{fileUploadBean.hipconverterFinalOutput.hipconverterOutputList}"
							redered="#{fileUploadBean.display}" border="1">

							<h:column>
								<f:facet name="header">Energy</f:facet>
								<h:outputText value="#{hipOutput.energy}" />
							</h:column>

							<h:column>
								<f:facet name="header">Proton Cross Section</f:facet>
								<h:outputText value="#{hipOutput.protonCrossSection}" />
							</h:column>
						</h:dataTable>

						<rich:panel>
							<a4j:mediaOutput type="image/jpeg" classid="toolsChart"
								style="width:450px;height:450px;" element="img"
								cacheable="false" session="true"
								createContent="#{fileUploadBean.drawChart}"
								mimeType="image/jpeg">

							</a4j:mediaOutput>
						</rich:panel>
					</h:panelGrid>
				</div>


				<!-- <tr><td width="225" align="center"><a href="#">Download Output File</a></td></tr> -->

			</div>
			<rich:popupPanel id="popup" modal="true" autosized="true" shadowDepth="0px" shadowOpacity="0px" 
				resizeable="false" headerClass="col10" controlsClass="col3" width="400">
				
				<f:facet name="header">
					<b><h:outputText value="Hip Converter Description" /></b>
				</f:facet>
				<f:facet name="controls">
					<h:outputLink value="#"
						onclick="#{rich:component('popup')}.hide(); return false;">Close X</h:outputLink>
				</f:facet>
				<p style="color: black">This tool enables one to plot the electron density
					profile for any ion element passing through a target material.
					Provide any element from periodic table and its energy and submit,
					you get the plot . At the present time, compound materials are not
					included. The calculations are done based on Katz Model</p>
				<p style="">Reference: R . Katz, "Track Structure Theory in
					Radiobiology and in Radiation Detection, " Nucl. Track Detection 2
					, 1~2 8 (1978) . R. Katz and E. J. Kobetich , It particle Tracks i
					n Emulsion," Phys. Rev. 186.344-351 (1969) .</p>
			</rich:popupPanel>
		</ui:define>
	</ui:composition>
</h:body>
</html>

